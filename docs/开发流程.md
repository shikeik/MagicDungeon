# å¼€å‘æµç¨‹æŒ‡å—

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜äº† MagicDungeon é¡¹ç›®çš„æ ‡å‡†å¼€å‘ã€æ„å»ºå’Œå‘å¸ƒæµç¨‹ã€‚

## 1. æ ¸å¿ƒå¼€å‘æµç¨‹

### 1.1 å¼€å‘ä¸è°ƒè¯•
- ä½¿ç”¨ IDE (IntelliJ/Android Studio/Trae) è¿›è¡Œä»£ç å¼€å‘ã€‚
- è¿è¡Œæ¡Œé¢ç‰ˆè¿›è¡Œå¿«é€Ÿæµ‹è¯•: `gradlew lwjgl:run`
- è¿è¡Œå®‰å“ç‰ˆè¿›è¡ŒçœŸæœºæµ‹è¯•: `gradlew android:installDebug`

### 1.2 æäº¤å‰æ£€æŸ¥ (Pre-commit Check)
åœ¨æäº¤ä»£ç å‰ï¼Œ**å¿…é¡»**ç¡®ä¿é¡¹ç›®èƒ½å¤ŸæˆåŠŸç¼–è¯‘ï¼Œé¿å…ç ´åæ„å»ºæµæ°´çº¿ã€‚

è¿è¡Œä»¥ä¸‹å‘½ä»¤è¿›è¡Œå…¨å¹³å°æ„å»ºæ£€æŸ¥ï¼š
```bash
./gradlew lwjgl:assemble
./gradlew android:assemble
```
å¦‚æœé‡åˆ° `BUILD FAILED`ï¼Œè¯·å…ˆä¿®å¤é”™è¯¯å†æäº¤ã€‚

## 2. ç‰ˆæœ¬ç®¡ç† (Versioning)

æœ¬é¡¹ç›®ä½¿ç”¨ Gradle ä»»åŠ¡è‡ªåŠ¨åŒ–ç®¡ç†ç‰ˆæœ¬å· (`gradle.properties` å’Œ `android/build.gradle`)ã€‚

### 2.1 ç‰ˆæœ¬å·è§„èŒƒ
éµå¾ª [Semantic Versioning](https://semver.org/) (ä¸»ç‰ˆæœ¬å·.æ¬¡ç‰ˆæœ¬å·.ä¿®è®¢å·)ï¼š
- **Patch (ä¿®è®¢å·)**: `x.y.Z` -> ä¿®å¤ Bugï¼Œä¸å½±å“ç°æœ‰åŠŸèƒ½ã€‚
- **Minor (æ¬¡ç‰ˆæœ¬å·)**: `x.Y.z` -> æ·»åŠ æ–°åŠŸèƒ½ (Feature)ï¼Œå‘ä¸‹å…¼å®¹ã€‚
- **Major (ä¸»ç‰ˆæœ¬å·)**: `X.y.z` -> é‡å¤§æ›´æ–°æˆ–ç ´åæ€§å˜æ›´ã€‚

### 2.2 å‘å¸ƒæ–°ç‰ˆæœ¬
åœ¨å®Œæˆå¼€å‘å¹¶é€šè¿‡æµ‹è¯•åï¼Œä½¿ç”¨ Gradle ä»»åŠ¡å‡çº§ç‰ˆæœ¬å·ï¼š

- **å‘å¸ƒ Patch (æ—¥å¸¸æ›´æ–°)**:
  ```bash
  ./gradlew bumpPatch
  # æ•ˆæœ: 0.8.11 -> 0.8.12
  ```

- **å‘å¸ƒ Minor (åŠŸèƒ½å‘å¸ƒ)**:
  ```bash
  ./gradlew bumpMinor
  # æ•ˆæœ: 0.8.11 -> 0.9.0
  ```

- **å‘å¸ƒ Major (é‡Œç¨‹ç¢‘)**:
  ```bash
  ./gradlew bumpMajor
  # æ•ˆæœ: 0.8.11 -> 1.0.0
  ```

> **æ³¨æ„**: æ‰§è¡Œ bump ä»»åŠ¡ä¼šè‡ªåŠ¨ä¿®æ”¹ `gradle.properties` å’Œ `android/build.gradle` æ–‡ä»¶ã€‚è¿™äº›å˜æ›´éœ€è¦éšä½ çš„ä»£ç ä¸€èµ·æäº¤ã€‚

## 3. ä»£ç æäº¤è§„èŒƒ (Git Commit)

æœ¬é¡¹ç›®é…ç½®äº† Git Hook (`commit-msg`) æ¥å¼ºåˆ¶æ£€æŸ¥æäº¤ä¿¡æ¯çš„æ ¼å¼ã€‚

### 3.1 æäº¤ä¿¡æ¯æ ¼å¼
```text
<type>: <summary>
(ç©ºè¡Œ)
<details body...>
```

### 3.2 å…è®¸çš„ Type ç±»å‹
- `feat`:     âœ¨ æ–°åŠŸèƒ½ (New Feature)
- `fix`:      ğŸ› ä¿®å¤ Bug
- `perf`:     âš¡ æ€§èƒ½ä¼˜åŒ–
- `docs`:     ğŸ“š æ–‡æ¡£æ›´æ–°
- `refactor`: â™»ï¸ ä»£ç é‡æ„ (ä¸æ”¹å˜é€»è¾‘)
- `chore`:    ğŸ”§ æ„å»º/ä¾èµ–/å·¥å…·æ›´æ–°
- `assets`:   ğŸ¨ èµ„æºæ–‡ä»¶å˜æ›´
- `test`:     âœ… æµ‹è¯•ç›¸å…³

### 3.3 æ¨èæäº¤æ–¹å¼
ä¸ºäº†æ–¹ä¾¿ç¼–å†™å¤šè¡Œæäº¤ä¿¡æ¯ï¼ˆç‰¹åˆ«æ˜¯åŒ…å«ä¸­æ–‡æè¿°æ—¶ï¼‰ï¼Œæ¨èä½¿ç”¨ `commit_msg.txt` æ–‡ä»¶ï¼š

1. ç¼–è¾‘é¡¹ç›®æ ¹ç›®å½•ä¸‹çš„ `commit_msg.txt` æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„æäº¤ä¿¡æ¯ã€‚
2. ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æäº¤ï¼š
   ```bash
   git add .
   git commit -F commit_msg.txt
   ```

### 3.4 æäº¤ç¤ºä¾‹
```text
feat(Editor): å¢åŠ æŠ«é£æ³¢åŠ¨å‚æ•°è°ƒèŠ‚é¢æ¿

1. æ–°å¢é£åŠ›ã€é¢‘ç‡ã€å¹…åº¦æ»‘å—
2. é‡æ„ UI å¸ƒå±€ä¸ºä¸‰æ ç»“æ„
3. ä¿®å¤ MESH æ¨¡å¼ä¸‹çš„å¤šç‚¹é€‰ä¸­ Bug
```

## 4. å®Œæ•´å·¥ä½œæµæ€»ç»“ (Cheat Sheet)

1. **å†™ä»£ç ** (Coding)
2. **æœ¬åœ°æµ‹è¯•** (Test): `./gradlew lwjgl:run`
3. **æ„å»ºæ£€æŸ¥** (Check): `./gradlew lwjgl:assemble && ./gradlew android:assemble`
4. **å‡çº§ç‰ˆæœ¬** (Bump): `./gradlew bumpPatch` (å¦‚æœæ˜¯æ–°åŠŸèƒ½åˆ™ç”¨ `bumpMinor`)
5. **å‡†å¤‡æäº¤** (Stage): `git add .`
6. **æ’°å†™ä¿¡æ¯** (Message): ç¼–è¾‘ `commit_msg.txt`
7. **æ‰§è¡Œæäº¤** (Commit): `git commit -F commit_msg.txt`
