老师，这单子列得非常专业！这就是从“能跑”到“好用”的必经之路。你不仅发现了 Bug，还提出了架构级的优化思考（如全 Tab 化）。

针对这 12 个问题，我建议**按“修复 -> 机制 -> 架构 -> 细节”的顺序**来处理。如果混在一起做，很容易因为改了架构（比如全 Tab 化）导致刚修好的 Bug 又失效了。

以下是我为你梳理的 **作战计划表**：

---

### 📅 第一阶段：修复显性 Bug 与 布局硬伤 (快速止血)
*这部分不涉及大架构变动，先把眼前碍眼的东西修好，心情会好很多。*

1.  **UI 布局修复 (Fix Layout)**
	*   **处理项**: `1. Scene Title 被顶`, `11. Tab Title 被顶`, `6. Vector2 对齐问题`。
	*   **思路**:
		*   统一检查 `EditorPanel` 和 `Tab` 的布局约束，给 Title 区域加 `minHeight` 铁布衫。
		*   给 `Vector2` 的输入框加 `minWidth` 限制，并调整 `Table` 的对齐方式为 `right`。

2.  **Hierarchy 交互修复 (Fix Interaction)**
	*   **处理项**: `2. 创建不选中`, `3. 拖拽误触菜单`, `4. 操作丢失选中`。
	*   **思路**:
		*   `2/4`: 在 Presenter 的 `create/delete` 逻辑后，显式调用树的 `selectNode` 方法。
		*   `3`: 这是一个事件冲突问题，拖拽手柄 (`Handle`) 和节点本体 (`Table`) 的监听器可能打架了，或者需要在 `startDrag` 时消费掉事件，阻止 `ContextListener` 响应。

---

### 📅 第二阶段：攻克核心交互技术 (Focus System)
*这是你提到的“技术阻碍”，必须单独攻克。解决这个问题后，编辑器的手感会有质的飞跃。*

3.  **建立面板焦点系统 (Focus System)**
	*   **处理项**: `7. 面板高亮与输入隔离`。
	*   **思路**:
		*   **视觉**: 给 `EditorPanel` 增加一个 `drawFocusBorder` 逻辑。当 `hasMouse` 时绘制亮色边框。
		*   **逻辑 (难点)**:
			*   **方案 A (简易)**: 利用 `Stage` 的 `EventListener` (`InputEvent.Type.enter/exit`)。当鼠标进入面板，调用 `stage.setScrollFocus(panel)`。这样滚轮就只会响应当前面板。
			*   **方案 B (终极)**: 实现一个 `InputProcessor` 拦截器，每一帧判断鼠标位置下的 Panel，只把输入分发给该 Panel 对应的 Processor。
		*   *建议先用方案 A，这是 LibGDX 原生支持最好的方式。*

---

### 📅 第三阶段：架构升级 - 面板容器化 (Tab Architecture)
*这部分涉及类结构的调整，放在 Bug 修完之后做，比较稳妥。*

4.  **全员 Tab 化 (All-in Tab)**
	*   **处理项**: `8. 封装 TabbedPane`, `12. 重构 Console`。
	*   **思路**:
		*   你提议的“把所有面板都封装成 TabbedPane”是个**极佳的思路**（Unity/IntelliJ 都是这么干的）。
		*   **废弃** `EditorPanel` 作为顶级容器的概念。
		*   **新建** `EditorTabContainer` (继承自 `VisTable`，内部包含一个 `VisTabbedPane`)。
		*   **Scene/Game/Hierarchy/Inspector** 全部变成 `Tab` 对象，塞进各自的 `Container` 里。
		*   这样标题栏问题（Item 1）也就顺便被 Tab 的标题栏取代解决了。

---

### 📅 第四阶段：细节打磨与体验增强 (Polish)
*锦上添花的功能，最后做。*

5.  **组件增强**
	*   **处理项**: `9. Project 树自动折叠`, `5. Hierarchy 对齐线`。
	*   **思路**:
		*   `9`: 递归检查子目录数量，如果 == 1 且无文件，自动 expand 下一级。
		*   `5`: 这个比较麻烦，VisTree 默认不支持画线。可能需要自定义 `Tree.Node` 的 `draw` 方法，或者在 Tree 的背景层根据缩进画线。

6.  **预览区优化**
	*   **处理项**: `10. 脚本预览体验`。
	*   **思路**:
		*   给 `BioCodeEditor` (或者预览用的 Label) 放入一个支持双向滚动的 `VisScrollPane` (设置 `setScrollingDisabled(false, false)` )。
		*   字体缩放：监听 `scrolled` 事件 + `Ctrl` 键，动态调整 Label 的 `fontScale`。

---

### 🧐 老师的建议执行顺序

1.  **Batch 1**: 先修 **Hierarchy (2,3,4)** 和 **Layout (1,6,11)**。这些改动小，见效快，能稳住心态。
2.  **Batch 2**: 攻克 **焦点系统 (7)**。这是个技术活，需要写个 Demo 验证一下 `enter/exit` 切换焦点的可靠性。
3.  **Batch 3**: 执行 **全员 Tab 化 (8, 12)**。这是大手术，改完后 UI 结构会大变样。
4.  **Batch 4**: 剩下的细节优化 **(5, 9, 10)**。

**你觉得这个顺序如何？如果同意，我们先从最简单的 `Batch 1`（Title 遮挡 + Hierarchy 选中丢失）开始清理？**
