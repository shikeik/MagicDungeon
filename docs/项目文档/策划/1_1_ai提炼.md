这是一个非常精彩的策划过程。我们从“断舍离”的痛苦决定开始，一步步构建出了一个数值硬核、逻辑严密且具有动态生态的魔塔式即时走格子 Roguelike。
以下是根据我们讨论的所有内容，去重并提炼后的**《Magic Dungeon 重构核心策划清单》**：
一、 核心玩法与表现
 * 游戏类型：走格子（Grid-based）即时制冒险。
 * 移动机制：玩家每移动一个格子或进行一次攻击都会触发独立的冷却时间（CD）。
 * 操作策略：即时制允许玩家利用移速 CD 差进行走位拉扯，规避攻击。
 * 地图规格：采用庞大的单层地图，内存常驻，不分片加载。
二、 属性系统 (The 6 Pillars)
所有属性的最终值计算遵循：最终值 = (初始 + 等级固定点 + 自由加点 + 装备固定值) × (1 + 百分比增益)。
| 属性名称 | 推荐缩写 | 1点属性点对应数值 | 初始值 (1级) | 备注 |
|---|---|---|---|---|
| 生命 | HP | 20 | 20 | 容错上限 |
| 魔法 | MP | 10 | 10 | 技能与破防资源 |
| 攻击 | ATK | 1 | 1 | 物理输出基数 |
| 防御 | DEF | 1 | 1 | 物理/魔法防御基数 |
| 攻速 | ASP | -- | 100% | 仅靠道具/装备，上限 300% |
| 移速 | MOV | -- | 100% | 仅靠道具/装备，上限 300% |
隐性属性：魔法防御 MDEF 固定等于 DEF / 2（向下取整）。

三、 战斗与伤害公式
 * 物理伤害计算：
 * 魔法伤害计算：
 * 魔法获取方式：
   * 主动技能：消耗 MP 释放，高爆发破防。
   * 法杖武器：普通攻击直接转为魔法伤害，但大幅降低攻击频率（ASP）。
 * 攻击范围与穿透：
   * 近战：4 方向 1 格，无穿透。
   * 长柄：4 方向直线 2 格，全穿透。
   * 远程：4 方向直线 5 格。能量弹不穿透；箭矢全穿透。
 * 穿透衰减：每多穿透一个目标，伤害衰减 30%。
   * 公式：
四、 等级与经验 (XP) 体系
 * 累积制经验：不设每级独立的经验槽，仅记录总经验值。
 * 等级判定：等级由总经验值实时推导。
 * 升级所需总经验公式：
 * 每级成长规则：
   * 固定加点：4 项基础属性（HP/MP/ATK/DEF）各自动增加 1 点对应值。
   * 自由点数：获得 4 点自由属性点，可自由兑换为 4 项基础属性。
五、 死亡与持久化机制
 * 世界持久化：地图状态永久保留。已杀死的怪物（非巢穴产出）、已开启的宝箱、已拾取的物品不会重置。
 * 最高层记录：塔会记录已通过的最高层级。
 * 死亡惩罚：
   * 经验掉落：扣除当前总经验值的 20%，若经验不足将导致等级滑落（降级）。
   * 金钱损失：扣除当前持有金币的 20%。
   * 位置回溯：角色回到当前层起点或营地。
六、 动态资源与巢穴
 * 怪物来源：
   * 固定怪物：地图初始生成的怪物，死后不复发。
   * 唯一怪物：BOSS 或特殊怪，不可再生。
   * 巢穴点 (Nest)：普通/精英怪死亡后概率生成。
     * 功能：缓慢产出同类小怪（有冷却）。
     * 限制：设有存活数量上限，防止资源无限堆积。
     * 战术：作为经验“提款机”或推图障碍，玩家可选择保留或摧毁。
七、 指引系统 (Fairy Guidance)
 * 模糊指引（未通关层）：
   * 表现：精灵展示 90° 扇形象限光晕。
   * 限制：有能量冷却，仅提供大方向引导。
 * 精确指引（已通关最高层级）：
   * 表现：精灵牵引丝线状流光，沿格子路径铺设。
   * 功能：无冷却，可自主切换指引“上楼”或“下楼”。
八、 数值平衡原则
 * 虚拟战斗模拟：不考虑具体地图，通过多轮模拟战斗验证玩家在“固定+平均自由点”分配下的生存状态。
 * 黄金区间：追求玩家在连续战斗后处于“重伤（15%-25% 血量）但不死”的状态，强调升级和资源管理的成就感。
这份清单已经完整涵盖了我们讨论的所有策划灵魂。如果你觉得这份“圣经”已经足够详尽，你打算如何开始你的第一步构建？
