# AI 自动开发流程 (AI Development Workflow)

> **目标**: 高效、准确、可追溯的 AI 辅助开发标准化流程。

## 1. 开发循环 (The Loop)

请遵循以下 5 步循环进行任何任务：

### Step 1: 明确需求 (Analyze)
- **输入**: 用户指令 / Issue 描述。
- **动作**: 
  - 分析影响范围 (哪些文件需要改？)。
  - 检查现有代码结构 (Context)。
  - **制定计划 (Plan)**: 列出简明 TODO 列表。

### Step 2: 实现变更 (Implement)
- **动作**: 
  - 优先小步修改，避免一次性大范围重构。
  - 始终遵循项目现有代码风格和命名规范。
  - **禁止**直接创建新文件（除非必要），优先复用现有逻辑。

### Step 3: 验证与测试 (Verify) ✨ *关键步骤*
- **动作**:
  - **单元测试**: 为新逻辑编写或运行单元测试。
  - **回归测试 (Regression)**: 
    - 运行核心功能测试，确保未破坏旧功能。
    - 启动游戏 (`./gradlew lwjgl:run`) 确认无崩溃。
  - **构建检查**: 确保项目可编译 (`./gradlew assemble`).

### Step 4: 版本与提交 (Commit)
- **动作**:
  - **升级版本**: `./gradlew bumpPatch` (修复) 或 `bumpMinor` (新功能)。
  - **规范提交**:
    1. 编辑根目录 `commit-msg.txt`。
    2. 格式: `<type>: <summary>` + 空行 + `<details>`。
    3. 运行: `git add . && git commit -F commit-msg.txt`。
  - **Type**: `feat`(新功能), `fix`(修复), `refactor`(重构), `docs`(文档), `chore`(杂项)。

### Step 5: 清理 (Clean)
- **动作**:
  - 移除临时调试代码 (Logs)。
  - 更新相关文档 (如果功能变更)。
  - **更新 TODO**: 标记任务完成。

---

## 2. 常用命令速查 (Cheat Sheet)

| 动作 | 命令 |
| :--- | :--- |
| **运行桌面版** | `./gradlew lwjgl:run` |
| **构建检查** | `./gradlew lwjgl:assemble` |
| **版本升级** | `./gradlew bumpPatch` (Bug修复) / `bumpMinor` (功能) |
| **提交代码** | `git commit -F commit-msg.txt` |
| **清理构建** | `./gradlew clean` |

## 3. 注意事项 (Notes)
- **Context Management**: 保持上下文清晰，定期在新任务开始时清理旧对话。
- **Regression**: 每次修改核心逻辑后，**必须**手动或自动验证核心流程（如启动、进入游戏、基础交互）。
