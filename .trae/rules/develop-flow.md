---
alwaysApply: true
---
# AI 自动开发流程 (简明版)

> **核心循环**: 分析 -> 计划 -> 实现 -> 验证 -> 提交

## 0. 任务管理
1. **智能拾取**:
   - **前置检查**: 若有未提交更改，先提交。
   - **读取配置**: 从 `Tasks.md` 读取目标数。
   - **筛选任务**: 按 Bug > Core > Opt > Misc 优先级拾取，必要时拆解大任务或重排版。
   - **记录时间**: 在 `Tasks.md` 记录开始时间(详细到分钟)。

2. **完成循环**:
   - 标记当前任务 `[x] (待检查)`，更新 `[当前已完成]` (+1)。
   - **检查结束**: 若达标或无任务：
     1. 记录完成时间(详细到分钟)、总耗时(详细到分钟)、实际完成数。
     2. 重置 `[当前已完成]` 为 0，结束流程。
   - **未结束**: 继续拾取下一任务。

## 1. 开发五步曲
1. **明确需求**: 分析影响，制定 TODO。
2. **实现变更**: 小步修改，复用逻辑，保持风格。
3. **验证测试**: 
   - 运行 `./gradlew lwjgl3:run` 确保无崩溃。
   - 构建 `./gradlew assemble` 确保编译通过。
4. **版本提交**: 
   - **及时提交**: 完成重要任务或一批杂项后立即提交。
   - **升级版本**: 
     - `bumpPatch`: 修复/小优化。
     - **次版本流程 (Minor)**: 
       1. 确定次版本主题。
       2. 完成主题相关开发。
       3. 执行 `bumpMinor` (版本升至 n.n+1.0)。
       4. 确定下个次版本主题。
       5. 提交代码 (此时为 n.n+1.1 或 n.n+1.0-SNAPSHOT)。
   - **规范提交**: 编辑 `commit_msg.txt` (中文)，执行 `git commit -F commit_msg.txt`。禁止 Push。
5. **清理交付**: 移除 Log，更新文档，更新 `Tasks.md`。
   - **记录踩坑**: 若遇到值得记录的坑，在 `.trae/documents/pitfalls` 中记录。

## 2. 常用命令
- 运行: `./gradlew lwjgl3:run`
- 构建: `./gradlew assemble`
- 清理: `./gradlew clean`
