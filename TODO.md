ignored: indentFix codeFormatFix  
// todo写一些压栈待办, 定期从这里提取精炼到Tasks.md中来实际拾取与完成任务

## 待办

门与钥匙: 锁宝物

更新文档

房间多样性: 
- 普通怪物房间: 
- 商店房间: 
- 奖励房间: 
- 锁定怪物(Boss)房间
- 跑酷房间: 纵向房间, 两侧封闭, 下端坍塌往上蔓延, 玩家需要躲避障碍尽快抵达上方终点以进入下层房间
...

场景多样性: 
- 水洼
- 地刺陷阱
- 射箭机关
...


增加多种玩家金币消耗方式

联机

战争迷雾: 玩家只有半径5方块视野, 只有踩过之后的路径会渲染, 包括怪物也只在踩过的视野范围渲染, 这样可以限制玩家视野, 同时引导玩家探索未探索区域

ui美化与交互修复完善

- [ ] (提取目标) 数值重设计: 包括: 
- 关卡怪物难度曲线
- 玩家成长曲线: 
  - 移动速度
  - 攻击力: ATK
  - 防御力: DEF
  - 生命值: HP
  - 经验曲线: 
- 场景物品获取曲线

- (exe发布流升级)

- 项目全量注释/提示汉化

- 项目全量ui的焦点光标化

- 羊皮卷进地图的设计有问题, 不能转screen, 应该只是重载地图到不同地牢或营地而已, 也不对, 要好好重新讨论下这个点

- [x] 设计模拟人类可视化测试流程: 之前已有此流程代码, 只需设计模拟输入api即可, 包括模拟gdx屏幕点击, 按键输入, 执行操作, 判断断言, 一条条断言, 直到全部通过或任意失败后结束.
  - [x] 做好后进行测试的测试, 模拟一段游戏操作, 包含ui点击, 进到游戏, 移动玩家, 打开界面, 输入作弊码, 背包界面拖拽装备穿戴, 取消等操作, 设立多个独立测试, 依次测试验证, 并全部通过
  - [x] 更新规则文件, 无法常规测试的情况使用此测试来验证

- [ ] (优先拾取) 拾取任务指令有: 拾取任务, 和, 拾取任务(自动), 自动模式禁止任何需用户确认的操作全程ai自行决定完成.此规则添加至规则文件.

- [ ] 现在营地似乎是随机音乐, 我需要固定音乐, 放一个属于林中空地的音乐

- [ ] 现在选择屏进游戏会明显卡一下, 重设计资源加载与获取流程, 设计一个系统来统一加载与管理资源, 然后统一在进入标题画面时加载所有资源, 我希望展示一个小人跑动动画下面是一个进度条, 小人x轴与进度同步, 从左到右, 加载完成后转场进入标题画面, 这里有一个逻辑职责问题, 我们希望先加载再进标题画面, 但是我们不能指定加载界面为锚点, 而是应该以标题画面为锚点, 但是进入场景时, 对, 进入场景时有个钩子方法, 我们调用进入标题画面方法, 然后内部检测资源未初始化, 此时卡住方法, 自动转加载条场景加载资源, 完成后再返回执行进入标题画面方法.

1 视觉bug: 
  - 有头发但没有头部, 头发呈环状散步, 预期应该是呈扇形在头顶, 你难道不知道正常人类长什么样吗? 我需要一个正常人面向右侧的形象
    - 人物面朝右
    - 手肘统一后是左, 即关节限位限制在右侧0~180
    - 所有身体部分全部改用空心有厚度形状而不是极细的实心(现在就是这样), 除了头发
2 我们已经实现了蒙皮场景, 最难的都搞定了, 现在回头补基础骨骼, 模仿spine的功能(和蒙皮也一样): 
  - 有模式切换: 骨骼设置模式, 动画播放模式
以上, 先分析需求, 完善具体需求, 罗列然后写到.trae/documents/文件中, 然后边做边勾选文档检查条目, 直到完成

#### 大项功能



- [ ] 右上小地图超出屏幕外了, 预期右上对齐(上要考虑top-toolbar高度), 且留有一定右上margin, 不要忘了自身宽度长度

- [ ] 现在羊皮卷地图进迷雾深林会闪退

- [ ] 现在转场完才加载场景, 改为一个回调使场景加载完之前都只转场一半变黑 显示一个小人跑步动画, 加载完后再转出来, 以此解决转场完卡一下的问题

- [ ] 确认以下任务是否完成和完成情况: 
  - [x] (优先拾取) 设计模拟人类可视化测试流程: 之前已有此流程代码, 只需设计模拟输入api即可, 包括模拟gdx屏幕点击, 按键输入, 执行操作, 判断断言, 一条条断言, 直到全部通过或任意失败后结束.
    - [ ] 做好后进行测试的测试, 模拟一段游戏操作, 包含ui点击, 进到游戏, 移动玩家, 打开界面, 输入作弊码, 背包界面拖拽装备穿戴, 取消等操作, 设立多个独立测试, 依次测试验证, 并全部通过
    - [ ] 更新规则文件, 无法常规测试的情况使用此测试来验证
  - [ ] 进度/成就界面: 所有这种可解锁项可以设计一个进度系统的进度节点, 进度节点可以是无头散点, 也可以有其父子级表示链式解锁, 并且有一个界面来展示所有网状进度/成就节点, 该视图应均匀分布且布局程序化自动管理无需硬编码.
    - [ ] 进度数据结构与管理器 (ProgressNode, ProgressManager)
    - [ ] 自动布局算法实现 (Auto-layout)
    - [ ] 进度界面 UI 开发 (ProgressScreen)
    - [ ] 集成与测试
  - [ ] 实体有属性成长点设计: 成长点代表升一级所能获得的额外属性点, 包括生命, 攻击, 防御, 攻击速度成长
    - [ ] 每种属性有数值上限, 超过上限会限制为上限数值
    - [ ] 实体的等级所对应的属性与经验所需都应该是确定性的可直接计算函数, 方便直接切换任意等级, 而无需迭代式计算.
  - [ ] 开发一个抽屉式面板, 参考skewbar做style配置, 有上下左右四方向配置, 收起时仅显示一个朝向配置方向的三角按钮, 点击时抽屉式动画切换拉出/收起实际内容面板
  - [ ] 游戏屏屏幕中下方的HUD处的当前层数革新: 首先为中下HUD全部增加区域边线框, 分为大头区属性条区, 快捷栏区, 右边增加一个收起的朝上抽屉式面板, 拉开展示当前地牢信息面板(是一个比较小的面板)
  - [ ] 在地牢场景中时右上角显示向下方向收起的抽屉式面板, 拉出展示当前地牢小地图缩影(一个小矩形区域渲染小地图, 有一个可配置的可视区域大小大概能看到跟随玩家的1个房间略大缩影)
    - [ ] 点击小地图, 会打开大地图, 大地图可以纵览当前地牢地图全图景象缩影(包含所有已访问层(表现形式为纵向塔结构, 1在上, 每层往下间隔一定距离), 未去过的房间将不被渲染(有一个调试变量来解锁此限制以渲染所有房间)), 打开时有一个特殊叠影渐变效果(变换: 小地图的矩形位移并拉伸至全屏, 叠影: 小地图影像渐出, 大地图影像渐入, 最终大地图将铺满全屏, 中心3/5内容为大地图(可自由相机式操作), 右上显示地牢详细信息)

存档革新: 云端存档与向下兼容
我想先做存档向下兼容我觉得
以前没系统做过这个
包括云端存档同步(上传下载), 并且不同游戏版本存档(仅需要更新)互相独立，
最终玩家可以创建自己的账号，在云端保存存档，下载存档游玩，并且游戏版本变化后还能自动升级存档版本
持久化肯定是做了
我感觉得早做为好
不想逃避了
因为马上我就要做大世界，这绝对是存档大变更
也好验证存档兼容是否成功
总之玩家可以下载不同游戏版本游玩，从云端拉取自己账号存档数据
游戏版本更新后存档自动升级，旧版独立并保留
换回旧版时自动加载旧版存档



## 已搁置
