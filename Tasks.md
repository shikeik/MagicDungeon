// 智能任务拾取配置:
// - 优先级策略: 智能优先级 (优先修复Bug > 核心功能 > 优化 > 杂项)
// - 目标拾取数: 1
// - 本次开发开始时间: 2026-02-16 10:35
// - 当前已完成: 0

## 大项
- [x] (待检查) 核心功能: 大世界 UI 化地牢选择器 (羊皮卷风格)
    - [x] (待检查) 创建 `WorldMapScreen`: 羊皮卷背景 (程序化/简单色块)，全屏 UI。
    - [x] (待检查) 实现地牢节点系统: 定义地牢数据 (位置、名称、等级、解锁状态)。
    - [x] (待检查) 实现交互绘制: 使用 `NeonBatch` 实现鼠标悬浮区域描边高亮 (发光效果)。
    - [x] (待检查) 程序化素材: 使用纯色/简单图形代替美术资源，区分不同地域/地牢。
    - [x] (待检查) 实现地牢入口逻辑: 点击节点打印日志或进入对应地牢场景。

## 零碎
- [x] (待检查) fix_fqcn.sh没有考虑到在注释中的情况(需要忽略跳过注释), 还有采用简单名后出现重名情况(这种情况的解决感觉很难, 不行就不处理也行(实在没办法的话), 结束后用户手动修正)
- [x] (待检查) 蒙皮场景笔刷强度值域改为+-, 这样手机可以设置为-来擦除权重

## 大项
- [x] (待检查) 提取任务

- [x] (待检查) 解决墙转只有顶没有墙, 以及地砖错位问题
- [x] (待检查) 项目全量注释/提示汉化
- [x] (待检查) 项目全量ui的焦点光标化
- [x] (待检查) Debug改名DLog

- [x] (待检查) exe发布流升级: 现有exe4j打包流需要.exe4j文件以及自动gradle任务配合更新, 并且打包出的exe还必须jdk/jre, 不符合需求, 新方案: 使用jpackage+EnigmaVirtualBox+自动化任务方案来获得全自动exe发布以及真正的无需额外jdk/jre可运行exe程序文件.


## 待检查 (ai可直接忽略不读)
- [x] (待检查) 从TODO.md选取足够的压栈任务提炼到Tasks.md(记得标记TODO位置任务为已提取), 一并完成, 另外 此流程也加入开发流规则但触发条件是在Tasks.md拾取到提炼任务时触发
- [x] (待检查) 当我在蒙皮场景运行时最小化窗口再点开来回两次后就闪退了(表象原因, 根本原因很可能并不在此), 且我得到一个报错`IllegalStateException: Array is empty.`, 这是不应该的, 修复此问题
- [x] (待检查) 我发现我刷权重, 数据更新了, 但是右侧视图并没有及时更新, 我们当然可以手动来检测数据并适配及时刷新面板, 但最佳且符合代码设计的做法是用一种权威通知来让数据更新者刷新一个源信息, 然后源将通知到所有的信息监听者, 这种思路实际标准化名字叫什么, 有多少类似思路或者更准确说法"设计模式"?
- [x] (待检查) 保存的json全一排了, 使用美观打印, 保证人类可读性
- [x] (待检查) 控制线需要先画手柄后画以确保手柄不被遮挡

- [x] (待检查) 更新至规则文件: 我希望在任务拾取开始时记录时间, 并在任务完成时记录完成时间, 并写上此次任务实际完成任务数并对比当前时间与起始时间记录任务实际耗时

- [x] (待检查) 增加一个sh(参考根目录下系列sh, 纯sh代码实现): 用于批量处理项目中直接使用全限定名的情况, 匹配*.*.*...这样形式的使用, 将其替换为简单名并添加导入(如果没有, 包括直接导入与.*导入)
- [ ] fix_fqcn.sh没有考虑到在注释中的情况(需要忽略跳过注释), 还有采用简单名后出现重名情况(这种情况的解决感觉很难, 不行就不处理也行(实在没办法的话), 结束后用户手动修正), 如果实在要做我只能想到AST了, 然后用上强大AST的话感觉自动清理无使用import, 修正错误的不存在的import, 自动批量补全代码中欠缺的import(idea只有单条补全也许有插件?我不确定)
- [x] (待检查) 增加一处坑记录目录里面放所有坑.md文件, 用于记录在项目开发迭代过程中遇到的所有坑, 以备忘合提醒自己以及ai避免再次踩坑, 并且增加至规则文件: 在踩坑时mark并在完成后及时详细记录到坑记录目录文件中(或增加新文件, 或在已存在文件中追加(如是同类坑的情况))
  - [x] (待检查) 初始添加所有已发现的你记得的坑进去
  - [x] (待检查) 你又把左侧渲染区x1/4,y1/2中心对齐误理解了, 这是个坑啊, 现在这个点又不是披风中心了又变成错误的披风左下

- [x] (待检查) 当遇到致命异常等闪退报错时现在程序会退出, 但是gradle会持续运行, 这影响我开始下一次运行, 想办法在遇到这种情况时自动终止gradle运行(即终止控制台当前任务或真正终止程序, 总之能达到我的效果需求即可)
- [x] (待检查) 浓缩下开发流程, 现在又超1000字了, 尽量短且精要措辞具有高度核心表述性, 但不可为了压缩丢掉任何必要环节(但可进行职责划分, 分到其他规则文件中去)
- [x] (待检查) 更新至规则文件: X.Y.Z的次版本号即Minor发版现在没有明确定义何时发, 现在决定在进入新的Y次版本号时定义次版本主题更新内容, 中途可以更新其他细碎内容, 但是一旦主题更新内容完成, 则进行Minor发版, 此版本结束, 版本号推进到n.n+1.0, 并必须在此时确定好下个次版本主题更新内容, 然后提交为n.n.1, 结束, 次版本更新流程闭环

- [x] (待检查) 核心功能: 完成灵活滑动布局类开发与验证
    - [x] (待检查) 创建 `HoverFocusScrollPane` 类: 实现鼠标悬浮即获取焦点的逻辑
    - [x] (待检查) 创建 `ScrollLayoutTestScreen`: 验证悬浮切换焦点与滚轮直接滚动的功能
    - [x] (待检查) 适配旧布局: 将背包等界面的滚动容器替换为新类



## 已检查 (ai可直接忽略不读)
- [x] (已检查) 更新至规则文件并读到时立即应用规则: 在拾取任务时如果更改区已存在更改则首先完成上次的提交流程, 然后继续当前拾取/任务