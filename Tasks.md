# 智能任务拾取配置:
// - 目标拾取数(0则无上限): 10
// - 当前已完成(开始时置0): 4
// - 时间精确到分钟
// - 开始时间: 2026-02-16 22:20
// - 结束时间: 
// - 总耗时: 

- [ ] (优先拾取) 我在营地, 出现背包无限反复开关的bug
- [ ] 右上小地图超出屏幕外了, 预期右上对齐(上要考虑top-toolbar高度), 且留有一定右上margin

- [x] 修复此问题 The method createMiniMap() is undefined for the type GameHUDJava(67108964)

- [x] (优先拾取) 拾取任务指令有: 拾取任务, 和, 拾取任务(自动), 自动模式禁止任何需用户确认的操作全程ai自行决定完成.此规则添加至规则文件。

- [x] (优先拾取) 设计模拟人类可视化测试流程: 之前已有此流程代码, 只需设计模拟输入api即可, 包括模拟gdx屏幕点击, 按键输入, 执行操作, 判断断言, 一条条断言, 直到全部通过或任意失败后结束.
  - [ ] 做好后进行测试的测试, 模拟一段游戏操作, 包含ui点击, 进到游戏, 移动玩家, 打开界面, 输入作弊码, 背包界面拖拽装备穿戴, 取消等操作, 设立多个独立测试, 依次测试验证, 并全部通过
    - [ ] 自动化测试完全无效果
  - [ ] 然后更新规则文件, 无法常规测试的情况使用此测试来验证

- [x] (优先拾取) 现在羊皮卷地图进迷雾深林会闪退

- [x] 现在羊皮卷区域看不出任何区别，根据区域类型重构筑地牢: 包括环境主题，怪物类型，物品类型等，所需素材先使用程序化素材
  - [x] 地牢区域主题数据结构 (DungeonTheme, DungeonNode配置)
  - [x] 实现纹理变体 (SpriteGenerator支持不同色调)
  - [x] 重构 MapGenerator 支持主题 (根据主题生成不同地貌)
  - [x] 配置区域怪物与掉落 (根据主题筛选)


- [ ] 进度/成就界面: 所有这种可解锁项可以设计一个进度系统的进度节点, 进度节点可以是无头散点, 也可以有其父子级表示链式解锁, 并且有一个界面来展示所有网状进度/成就节点, 该视图应均匀分布且布局程序化自动管理无需硬编码.
  - [ ] 进度数据结构与管理器 (ProgressNode, ProgressManager)
  - [ ] 自动布局算法实现 (Auto-layout)
  - [ ] 进度界面 UI 开发 (ProgressScreen)
  - [ ] 集成与测试

- [ ] 实体有属性成长点设计: 成长点代表升一级所能获得的额外属性点, 包括生命, 攻击, 防御, 攻击速度成长
  - [ ] 每种属性有数值上限, 超过上限会限制为上限数值
  - [ ] 实体的等级所对应的属性与经验所需都应该是确定性的可直接计算函数, 方便直接切换任意等级, 而无需迭代式计算.

- [ ] 开发一个抽屉式面板, 参考skewbar做style配置, 有上下左右四方向配置, 收起时仅显示一个朝向配置方向的三角按钮, 点击时抽屉式动画切换拉出/收起实际内容面板

- [ ] 游戏屏屏幕中下方的HUD处的当前层数革新: 首先为中下HUD全部增加区域边线框, 分为大头区属性条区, 快捷栏区, 右边增加一个收起的朝上抽屉式面板, 拉开展示当前地牢信息面板(是一个比较小的面板)

- [ ] 在地牢场景中时右上角显示向下方向收起的抽屉式面板, 拉出展示当前地牢小地图缩影(一个小矩形区域渲染小地图, 有一个可配置的可视区域大小大概能看到跟随玩家的1个房间略大缩影)
  - [ ] 点击小地图, 会打开大地图, 大地图可以纵览当前地牢地图全图景象缩影(包含所有已访问层(表现形式为纵向塔结构, 1在上, 每层往下间隔一定距离), 未去过的房间将不被渲染(有一个调试变量来解锁此限制以渲染所有房间)), 打开时有一个特殊叠影渐变效果(变换: 小地图的矩形位移并拉伸至全屏, 叠影: 小地图影像渐出, 大地图影像渐入, 最终大地图将铺满全屏, 中心3/5内容为大地图(可自由相机式操作), 右上显示地牢详细信息)

- [ ] 现在转场完才加载完场景, 改为一个回调场景加载完之前都只转场一半变黑显示一个小人跑步动画, 加载完后再转出来, 以此解决转场完卡一下的问题


## 待检查
- [x] 完善各种vfx特效，使用neonbatch构建华丽粒子系统来做
- [x] 营地音乐换一个草地怎么是隆重的音乐
- [x] 修复羊皮卷地图点击区域后闪退问题
- [x] 解决羊皮地图点击进入区域结果闪退问题
