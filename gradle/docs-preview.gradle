tasks.register('previewDocs', JavaExec) {
    group = "magicdungeon"
    description = "Start the DocServer using the main class from core"

    // 指定运行的类路径 (复用 core 模块的运行时环境)
    classpath = project(':core').sourceSets.main.runtimeClasspath

    // 指定主类
    mainClass = 'com.goldsprite.magicdungeon2.core.web.DocServer'

    // 传递参数 (文档根目录)
    // 注意：这里指向项目根目录下的 docs/engine_docs
    args = ["${rootProject.rootDir}/docs/engine_docs"]

    // 设置工作目录，防止相对路径出错
    workingDir = rootProject.rootDir

    // 配置标准输入，以便我们按回车停止
    standardInput = System.in
}
